(this.webpackJsonpphotopedia=this.webpackJsonpphotopedia||[]).push([[0],{62:function(e,t,a){e.exports=a(95)},67:function(e,t,a){},68:function(e,t,a){},95:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(27),s=a.n(r),c=(a(67),a(9)),o=a(10),i=a(12),m=a(11),u=a(13),E=a(24),d=a(20),h=(a(68),a(97)),p=a(98),b=a(5),g=a(28),v=a.n(g);function f(e){return v.a.get("https://surveyglance.herokuapp.com/api/tache/facade"+e).then((function(e){return e.data}))}var y=a(25),N=a(23),C=a(56),k=a(55),O=a(26),j=a(53),x=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).state={surveys:[],name:[],user:[],loading:!0},e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;f("/survey/surveys/"+localStorage.getItem("userId")).then((function(t){e.setState({surveys:t}),e.setState({loading:!1})})).catch((function(e){console.log(e)})),console.log(this.state.surveys)}},{key:"render",value:function(){return this.state.loading?l.a.createElement("div",{style:{position:"fixed",top:"50%",left:"50%"},className:"d-flex flex-column align-items-center justify-content-center"},l.a.createElement(C.a,{animation:"grow",variant:"warning"},l.a.createElement("span",{className:"sr-only"},"Loading..."))):0===this.state.surveys.length?l.a.createElement("div",null,l.a.createElement(j.a,null,l.a.createElement("p",null,l.a.createElement("b",null,"You have not created any survey "))),";"):l.a.createElement("div",{style:{marginTop:"65px"},className:"container-fluid"},l.a.createElement(b.a,null,l.a.createElement(b.a.Body,null,l.a.createElement(b.a.Title,null,"Total Surveys: ",this.state.surveys.length),l.a.createElement(O.a,null,l.a.createElement(k.a,null,this.state.surveys.map((function(e){return l.a.createElement(b.a,{className:"col-md-4",key:e.id},l.a.createElement(N.a,null,l.a.createElement(N.a.Image,{src:e.imagePath})),l.a.createElement(b.a.Body,null,l.a.createElement(b.a.Title,null,e.name),l.a.createElement(b.a.Text,null,e.description,l.a.createElement("br",null),l.a.createElement("label",null,"Created On:"),"   ",e.createdDt.slice(0,10),l.a.createElement("br",null),l.a.createElement(y.a,null,e.status))))})))))))}}]),t}(n.Component),S=a(34),T=a(22),w=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).handleChange=function(t){e.setState({username:t.target.value})},e.handlePassword=function(t){e.setState({password:t.target.value})},e.handleSubmit=function(t){t.preventDefault();var a,n,l={username:e.state.username,password:e.state.password};(a="/user/login",n=l,v.a.post("https://surveyglance.herokuapp.com/api/tache/facade"+a,n).then((function(e){return e.data}))).then((function(t){t.hasOwnProperty("userName")&&(e.setState({isLogged:!0}),localStorage.setItem("userId",t.id),localStorage.setItem("isLogged",!0))}))},e.state={username:"",password:"",isLogged:!1,users:[],source:"",data:[],error:""},e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return this.state.isLogged?l.a.createElement(d.a,{to:"/home"}):l.a.createElement("div",{className:"loginParent"},l.a.createElement("div",{className:"col-sm-4"},l.a.createElement(b.a,{style:{display:"flex",justifyContent:"center"}},l.a.createElement(b.a.Body,{className:"p-4"},l.a.createElement(S.a,{onSubmit:this.handleSubmit},l.a.createElement("div",{className:""}),l.a.createElement("h3",{className:"text-center mb-3"},"LOGIN"),l.a.createElement("div",{className:"fields"},l.a.createElement("p",{className:"text-danger"},this.state.error),l.a.createElement(S.a.Control,{type:"email ",placeholder:"Email",onChange:this.handleChange}),l.a.createElement("br",null),l.a.createElement(S.a.Control,{type:"password",placeholder:"Password",onChange:this.handlePassword}),l.a.createElement("br",null),l.a.createElement(y.a,{variant:"login_btn",type:"submit",className:"m-0 btn-block "},l.a.createElement(T.c,null)," Login")))))))}}]),t}(n.Component),L=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){localStorage.clear()}},{key:"render",value:function(){return l.a.createElement(d.a,{to:"/login"})}}]),t}(n.Component),R=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e,t,a;return localStorage.getItem("isLogged")?(e=l.a.createElement("tr",null,l.a.createElement("th",null," ",l.a.createElement("label",null,"Email")),l.a.createElement("td",null,this.props.location.state.user.email)),t=l.a.createElement("tr",null,l.a.createElement("th",null," ",l.a.createElement("label",null,"Contact No")),l.a.createElement("td",null,this.props.location.state.user.phone))):a=l.a.createElement("tr",null," ",l.a.createElement("th",{colspan:"4"}," ",l.a.createElement(E.b,{to:{pathname:"/login",state:{user:this.props.location.state.user}}},l.a.createElement(y.a,{variant:"login_btn",className:"m-0 btn-block "},"Login to view Details")," "))," "),l.a.createElement("div",{key:this.props.id,className:"container-fluid",style:{marginTop:"65px"}},l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"col-sm-6 pr-md-1 mb-2"},l.a.createElement(b.a,null,l.a.createElement(b.a.Body,null,l.a.createElement(b.a.Title,null,"Profile Details"),l.a.createElement(b.a.Text,null,l.a.createElement("table",{className:"table text-left table-bordered"},l.a.createElement("tr",null,l.a.createElement("th",null,"Name"),l.a.createElement("td",null,this.props.location.state.user.name)),l.a.createElement("tr",null,l.a.createElement("th",null,"Website"),l.a.createElement("td",null,this.props.location.state.user.website)),e,t,l.a.createElement("tr",null,l.a.createElement("th",null,"Address"),l.a.createElement("td",null,this.props.location.state.user.address.suite,",",this.props.location.state.user.address.street,",",this.props.location.state.user.address.city)))),l.a.createElement(b.a.Title,null,"Company Details"),l.a.createElement(b.a.Text,null,l.a.createElement("table",{className:"table text-left table-bordered"},l.a.createElement("tr",null,l.a.createElement("th",null,"Name"),l.a.createElement("td",null,this.props.location.state.user.company.name)),l.a.createElement("tr",null,l.a.createElement("th",null,"Business"),l.a.createElement("td",null,this.props.location.state.user.company.bs)),a))))),l.a.createElement("div",{class:"col-sm-6 pl-md-1 mb-2"},l.a.createElement(b.a,{className:" p-2 heightfull"},l.a.createElement("div",{className:"mapParent"})))),l.a.createElement(b.a,{className:"mb-2"},l.a.createElement(b.a.Body,null,l.a.createElement(b.a.Title,null,"Albums:"),l.a.createElement(b.a.Text,null,this.props.location.state.user.album.sort((function(e,t){return e.title.localeCompare(t.title)})).slice(0,5).map((function(e){return l.a.createElement(b.a,{className:"mb-4",key:e.id},l.a.createElement(b.a.Body,null,l.a.createElement("div",{key:e.id},l.a.createElement(b.a.Title,null,l.a.createElement(T.a,null)," ",e.title),l.a.createElement(b.a.Text,null,l.a.createElement("div",{className:"album_ui",key:e.id},e.photo.slice(0,2).map((function(e){return l.a.createElement("div",{key:e.id,className:"album_part"},l.a.createElement(N.a,{key:e.id,className:"mb-0"},l.a.createElement(N.a.Image,{width:100,alt:"album image",src:e.url,className:"mb-0"}),l.a.createElement(N.a.Caption,null,e.title)))})))))))}))))))}}]),t}(n.Component),I=a(17),A=a(39),D=a.n(A),B=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).state={count:[],dates:[],responses:[]},e.handleWeek=e.handleWeek.bind(Object(I.a)(e)),e.handleMonth=e.handleMonth.bind(Object(I.a)(e)),e.handleDate=e.handleDate.bind(Object(I.a)(e)),e.handleResponses=e.handleResponses.bind(Object(I.a)(e)),e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.handleDate(),this.handleResponses()}},{key:"handleDate",value:function(){var e=this;f("/report/count?format=date&userId="+localStorage.getItem("userId")).then((function(t){e.setState({count:t,dates:t.surveyCount.date})}))}},{key:"handleWeek",value:function(){var e=this;f("/report/count?format=week&userId="+localStorage.getItem("userId")).then((function(t){e.setState({dates:t.surveyCount.week})}))}},{key:"handleMonth",value:function(){var e=this;f("/report/count?format=month&userId="+localStorage.getItem("userId")).then((function(t){e.setState({dates:t.surveyCount.month})}))}},{key:"handleResponses",value:function(){var e=this;f("/report/count/userId?userId="+localStorage.getItem("userId")).then((function(t){console.log(t),e.setState({responses:t}),console.log(e.state.responses),console.log(t.data)}))}},{key:"render",value:function(){var e={options:{xaxis:{categories:Object.keys(this.state.dates)}},series:[{name:"count",data:Object.values(this.state.dates)}]},t={options:{xaxis:{categories:Object.keys(this.state.responses)}},series:[{name:"count",data:Object.values(this.state.responses)}]};return l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement(O.a,null,l.a.createElement("div",{className:"col-md-3"},l.a.createElement(b.a,{bg:"success",text:"white"},l.a.createElement(b.a.Body,null,l.a.createElement(b.a.Title,null,"Live"),l.a.createElement(b.a.Text,null,this.state.count.liveCount)))),l.a.createElement("div",{className:"col-md-3"},l.a.createElement(b.a,{bg:"danger ",text:"white"},l.a.createElement(b.a.Body,null,l.a.createElement(b.a.Title,null,"Draft "),l.a.createElement(b.a.Text,null,this.state.count.draftCount)))),l.a.createElement("div",{className:"col-md-3"},l.a.createElement(b.a,{bg:"primary",text:"white"},l.a.createElement(b.a.Body,null,l.a.createElement(b.a.Title,null,"Total Responses"),l.a.createElement(b.a.Text,null,this.state.count.responseCount)))),l.a.createElement("div",{className:"col-md-3"},l.a.createElement(b.a,{bg:"secondary",text:"white"},l.a.createElement(b.a.Body,null,l.a.createElement(b.a.Title,null,"Total Surveys"),l.a.createElement(b.a.Text,null,this.state.count.liveCount+this.state.count.draftCount))))),l.a.createElement("section",null,l.a.createElement(O.a,null,l.a.createElement(b.a,{className:"col-md-6"},l.a.createElement(b.a.Header,{className:"text-right"},l.a.createElement(y.a,{variant:"light",onClick:this.handleDate},"Day"),l.a.createElement(y.a,{variant:"light",onClick:this.handleWeek},"Week"),l.a.createElement(y.a,{variant:"light",onClick:this.handleMonth},"Month")),l.a.createElement(b.a.Body,null,l.a.createElement(D.a,{options:e.options,series:e.series,type:"line"})),l.a.createElement("center",null,l.a.createElement("b",null,"No of surveys created"))),l.a.createElement(b.a,{className:"col-md-6"},l.a.createElement(b.a.Header,{className:"text-right"},l.a.createElement("p",null)),l.a.createElement(b.a.Body,null,l.a.createElement(D.a,{options:t.options,series:t.series,type:"line"}),l.a.createElement("center",null,l.a.createElement("b",null,"No of responses recorded"))))))))}}]),t}(n.Component),_=a(59),G=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).state={responses:[]},e.printData=e.printData.bind(Object(I.a)(e)),e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;f("/response/survey/1").then((function(t){e.setState({responses:t})})),console.log(this.state.responses)}},{key:"printData",value:function(){this.state.responses.forEach((function(e){console.log(e.id)}))}},{key:"render",value:function(){return console.log(this.state.responses),console.log(this.state.responses[0]),l.a.createElement("div",null,l.a.createElement(_.a,null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"S.No"),l.a.createElement("th",null,"User Id"),l.a.createElement("th",null,"Submit Date"),l.a.createElement("th",null,"Questions Answered"))),l.a.createElement("tbody",null,this.state.responses.map((function(e){return l.a.createElement("tr",null,l.a.createElement("td",null,e.id),l.a.createElement("td",null,e.userId),l.a.createElement("td",null,e.createdDt),l.a.createElement("td",null,e.data.length))})))))}}]),t}(n.Component),U=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).state={username:""},e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e;return e=localStorage.getItem("userId")?l.a.createElement(h.a.Text,{className:"d-flex p-md-0"},l.a.createElement(p.a.Link,{href:"/logout",className:"loginBtn",location:this.props.location}," ",l.a.createElement(T.b,null)," Logout")):l.a.createElement(p.a.Link,{href:"/SURVEYGLANCE_REACT/login",className:"loginBtn",location:this.props.location},l.a.createElement(T.c,null)," Login"),l.a.createElement(E.a,{basename:"/SURVEYGLANCE_REACT"},">",l.a.createElement("div",null,l.a.createElement(h.a,{expand:"lg",variant:"dark",bg:"dark",fixed:"top",className:"menubar pt-0 pb-0 pr-0"},l.a.createElement(h.a.Brand,{href:"/SURVEYGLANCE_REACT/home"},"SURVEYGLANCE"),l.a.createElement("br",null),l.a.createElement(h.a.Toggle,null),l.a.createElement(h.a.Collapse,{id:"basic-navbar-nav"},l.a.createElement(p.a,{className:"ml-auto"},l.a.createElement(p.a.Link,{href:"/SURVEYGLANCE_REACT/home"}," Home "),l.a.createElement(p.a.Link,{href:"/SURVEYGLANCE_REACT/dashboard"}," Dashboard")),l.a.createElement(p.a,{className:"mr-sm-0 login_part"},e))),l.a.createElement(d.b,{exact:!0,path:"/SURVEYGLANCE_REACT/login",component:w}),l.a.createElement(d.b,{exact:!0,path:"/SURVEYGLANCE_REACT/dashboard",component:B}),l.a.createElement(d.b,{exact:!0,path:"/SURVEYGLANCE_REACT/home",component:x}),l.a.createElement(d.b,{exact:!0,path:"/SURVEYGLANCE_REACT/logout",component:L}),l.a.createElement(d.b,{exact:!0,path:"/SURVEYGLANCE_REACT/user",component:R}),l.a.createElement(d.b,{exact:!0,path:"/SURVEYGLANCE_REACT/response",component:G}),l.a.createElement(d.b,{exact:!0,path:"/",component:w})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(93),a(94);s.a.render(l.a.createElement(U,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[62,1,2]]]);
//# sourceMappingURL=main.6a359951.chunk.js.map